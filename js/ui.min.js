$(function(){window.errors=0;$.rewireload();$body.on("BehaviorsReady",function(b,a){FocusDefault(a||$body);});ThrowOut();});$.BodyError=function(a,b){if(a=="hide"){$body.ShError("hide");window.$stickylabel.ShError("hide");}else{$body.ShError("hide");window.$stickylabel.ShError("hide");if(b.sticky){window.$stickylabel.ShError("show",ErrMessage(a,null,b.ns?b.ns:"Detailed"),b.css);}else{$body.ShError("show",ErrMessage(a,null,b.ns?b.ns:"Detailed"),b.css);}}};$.rewireload=function(a){if(window.DataGA){DataGA(a);}};function Placeholders(){if(!jQuery.support.placeholder){$("input[placeholder], textarea[placeholder]").placeholder();}}function FocusDefault(a){setTimeout(function(){if(a.find(".focusme").length==1){a.find(".focusme").focus();}},10);}function fixLegends(){$("legend").wrap("<span />");}function PrettyNumber(){this.text(Number(this.text()).toPrettyNumber());}function PrettyPrice(){this.text(Number(this.text()).toPrettyPrice());}function Masked(){var a=this;setTimeout(function(){var b=a.find(".smask"),d=a.find(".mask"),c=$("<input type='text' />");c.addClass(d.attr("class")).attr("placeholder",d.attr("placeholder")).insertBefore(d).hide();var e=a.find(".mask");e.on("change",function(){e.not(this).val(this.value);});b.removeAttr("checked");b.on("change",function(){if(this.checked){d.hide();c.show();}else{c.hide();d.show();}});a.data("onvalidate",function(){b.removeAttr("checked");c.hide();d.show();return d.ShError("validate");});a.ApplyBehavior("ValidCustom");},100);}function updateParams(a){this.data("dparams",toJson(a.attr("data-params")));return true;}function SelectGuts(){var b=this.find(".p").first();var a=this.find(".guts").hide();var c=this;var d=function(){var e=b.find(":selected").data("guts");a.hide();if(e!=""){c.find(e).show();}};b.change(function(f){d();});d();}function openExpandList(){if(this.closest(".expandfs").length){this.closest(".expandfs").ShExpandList("show");}}function UpdateTarget(){var a=$(this.data("target"));this.data("onloading",function(b){if(b){var c=a.offset().top;a.html("");a.addClass("loading");if($window.scrollTop()<c){$("html, body").animate({scrollTop:c/2},"fast","swing");}}else{a.removeClass("loading");}});this.data("onfinish",function(b){if(b.result){a.html(b.d);ShRewire(a);}else{$.BodyError("Unknown",{css:"gerrorbox"});}});Ajax.call(this);}function TallField(){var b=this.width()*0.9,a=this;this.on("blur",function(){var d=$("<span />").text(a.ShTrim()).appendTo($body);var c=d.width();d.remove();if(c>b){a.addClass("clearit");}else{a.removeClass("clearit");}});this.trigger("blur");}function preloadSrc(){var a=this;postService(this.data("src"),toJson(this.data("params")),function(b){if(b.result){a.data("datasrc",b.d);a.autocomplete("option","source",b.d);}else{}});}function popBasket(){var a=this;this.data("ondocumentclick",function(b){if(!jQuery.contains(a.get(0),b.target)){a.ShExpandList("hide");}});window.popbasket.push(this);}function deleteParent(b){if(b.result){var a=this;setTimeout(function(){a.closest(a.data("which")||"li").fadeOut(500,function(){$(this).remove();});},10);}else{$.BodyError(this.data("error")||b.errorCode,{css:"gerrorbox",sticky:true});}}function ProgressBar(){this.progressbar({max:this.data("max"),value:this.data("value")});}function ThrowOut(){$(document).ajaxSuccess(function(b,d,c,a){if(a.result&&a.loginUrl){window.location.href=a.loginUrl;}});}